<?xml version="1.0" encoding="UTF-8"?>
<server>

    <resourceAdapter id="wmqjmsra" location="${wlp.install.dir}/lib/wmq.jmsra-9.3.5.0.rar" />

    <connectionManager id="connectionManager" maxPoolSize="10"/>

    <variable name="connectionNameList" value="native-ha-qm-ibm-mq-qm-mq.apps.6602d6121b0194001e821256.cloud.techzone.ibm.com(443)"/>
    <variable name="channel" value="HAQMCHL"/>
    <variable name="queuemanager" value="NATIVEHAQM" />
    <variable name="transportType" value="CLIENT"/>
    <variable name="applicationName" value="Liberty Sample app"/>

    <!-- https://www.ibm.com/docs/en/ibm-mq/9.3?topic=jms-tls-cipherspecs-ciphersuites-in-mq-classes -->
    <variable name="sslCipherSuite" value="*TLS12ORHIGHER"/>

    <!-- https://www.ibm.com/docs/en/ibm-mq/9.3?topic=adapter-configuring-resource-outbound-communication -->
    <jmsConnectionFactory jndiName="jms/mqConnectionFactory" connectionManagerRef="connectionManager">
        <properties.wmqjmsra
            connectionNameList="${connectionNameList}"
            channel="${channel}"
            queueManager="${queuemanager}"
            sslCipherSuite="${sslCipherSuite}"
            applicationName="${applicationName}"
            transportType="${transportType}"
            reconnectionRetryCount="1024"
        />
    </jmsConnectionFactory>

    <!-- https://www.ibm.com/docs/en/ibm-mq/9.3?topic=adapter-configuring-resource-inbound-communication -->
    <jmsActivationSpec id="liberty-sampleapp-1.0-SNAPSHOT/ListenerMDB" autoStart="true">
        <properties.wmqjmsra
            connectionNameList="${connectionNameList}"
            channel="${channel}"
            queueManager="${queuemanager}"
            sslCipherSuite="${sslCipherSuite}"
            applicationName="${applicationName}"
            transportType="${transportType}"
            destinationRef="jms/queue2"
            destinationType="javax.jms.Queue"
            reconnectionRetryCount="1024"
        />
    </jmsActivationSpec>

    <jmsQueue id="jms/queue1" jndiName="jms/queue1">
        <properties.wmqjmsra baseQueueName="QUEUE1" />
    </jmsQueue>

    <jmsQueue id="jms/queue2" jndiName="jms/queue2">
        <properties.wmqjmsra baseQueueName="QUEUE2" />
    </jmsQueue>
</server>